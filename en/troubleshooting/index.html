<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<title data-react-helmet="true">troubleshooting | 𝑪𝑲𝒊𝒃𝒂𝒏𝒂</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="http://CKibana.inf.17usoft.com/docs//ckibana-docs/en/troubleshooting"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-en-current"><meta data-react-helmet="true" property="og:title" content="troubleshooting | 𝑪𝑲𝒊𝒃𝒂𝒏𝒂"><meta data-react-helmet="true" name="description" content="1、Cannot open Kibana."><meta data-react-helmet="true" property="og:description" content="1、Cannot open Kibana."><link data-react-helmet="true" rel="shortcut icon" href="/ckibana-docs/img/logo.svg"><link data-react-helmet="true" rel="canonical" href="http://CKibana.inf.17usoft.com/docs//ckibana-docs/en/troubleshooting"><link data-react-helmet="true" rel="alternate" href="http://CKibana.inf.17usoft.com/docs//ckibana-docs/en/troubleshooting" hreflang="en"><link data-react-helmet="true" rel="alternate" href="http://CKibana.inf.17usoft.com/docs//ckibana-docs/zh/en/troubleshooting" hreflang="zh"><link data-react-helmet="true" rel="alternate" href="http://CKibana.inf.17usoft.com/docs//ckibana-docs/en/troubleshooting" hreflang="x-default"><link rel="stylesheet" href="/ckibana-docs/assets/css/styles.16cd582e.css">
<link rel="preload" href="/ckibana-docs/assets/js/runtime~main.8425aa06.js" as="script">
<link rel="preload" href="/ckibana-docs/assets/js/main.079d6d7f.js" as="script">
</head>
<body>
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" target="_self" href="/ckibana-docs/"><div class="navbar__logo"><img src="/ckibana-docs/img/ckibana-new.svg" alt="Site Logo" class="themedImage_TMUO themedImage--light_4Vu1" height="32" width="32"><img src="/ckibana-docs/img/ckibana-new.svg" alt="Site Logo" class="themedImage_TMUO themedImage--dark_uzRr" height="32" width="32"></div><b class="navbar__title">𝑪𝑲𝒊𝒃𝒂𝒏𝒂</b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__search searchBarContainer_I7kZ"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_Zg7X searchBarLoadingRing_J5Ez"><div></div><div></div><div></div><div></div></div><div class="searchHintContainer_CDc6"><kbd class="searchHint_2RRg">ctrl</kbd><kbd class="searchHint_2RRg">K</kbd></div></div><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">🌜</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">🌞</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ckibana-docs/en/UserCase">usercase</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ckibana-docs/en/api-docs">api-docs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/ckibana-docs/en/troubleshooting">troubleshooting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ckibana-docs/en/">Introduce</a></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div style="position:relative" class="col docItemCol_MGa7"><div style="width:100%"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_psec"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>troubleshooting</h1></header><h2 class="anchor anchorWithStickyNavbar_y2LR" id="1cannot-open-kibana">1、Cannot open Kibana.<a aria-hidden="true" class="hash-link" href="#1cannot-open-kibana" title="Direct link to heading">​</a></h2><p><img src="/ckibana-docs/assets/images/img02-866ea913c621c0783cbccec13fa22125.png"></p><p>The high probability of this error is that the initialization configuration is not correct.</p><p><strong>1）Check if the metadata cluster in the configuration is correct</strong></p><p><strong>2）Check the <code>elasticsearchHosts</code> parameter in Kibana&#x27;s configuration to see if the proxy address is correct and accessible. The following information should appear to indicate that the proxy configuration is correct</strong></p><p><img src="/ckibana-docs/assets/images/img03-9a602c7078790aa3b2503dbe6f810cb3.png"></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="2unable-to-create-an-index-pattern">2、Unable to create an <code>index pattern</code><a aria-hidden="true" class="hash-link" href="#2unable-to-create-an-index-pattern" title="Direct link to heading">​</a></h2><p>As shown in the picture, if there is no option to create an index pattern in the red box when creating an index pattern, the normal number of indices should be greater than 0.</p><p><img src="/ckibana-docs/assets/images/img01-aa99af9a331d76742dd18077e7ec3ae6.png"></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="the-troubleshooting-steps-are-as-follows">The troubleshooting steps are as follows:<a aria-hidden="true" class="hash-link" href="#the-troubleshooting-steps-are-as-follows" title="Direct link to heading">​</a></h3><p><strong>1）determine whether the input index pattern matches the ck table. The index pattern should be an exact match to the ck table name.</strong></p><p><strong>2）Check whether the configuration of the ClickHouse database is normal.</strong></p><p><strong>3）Using the SQL output from the logs, check whether the corresponding table can be queried in ClickHouse</strong></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="3when-creating-an-index-pattern-the-time-field-cannot-be-selected">3、When creating an index pattern, the time field cannot be selected.<a aria-hidden="true" class="hash-link" href="#3when-creating-an-index-pattern-the-time-field-cannot-be-selected" title="Direct link to heading">​</a></h2><p>The logic for matching the time field is:</p><p><strong>1）Fields of type Date, such as DateTime64, will be recognized as time fields.</strong></p><p><strong>2）Alternatively, if the field name contains &quot;time&quot;, such as (@timestamp UInt64), it will be recognized as a time field.</strong></p><p>Either of these conditions will be satisfied and the field will be recognized as a time field. If the time field cannot be selected, you need to check whether the fields in the ClickHouse table meet the matching logic.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="4unable-to-retrieve-data">4、Unable to retrieve data.<a aria-hidden="true" class="hash-link" href="#4unable-to-retrieve-data" title="Direct link to heading">​</a></h2><p>You can see the specific SQL query being executed by opening the F12 console and inspecting the response.</p><p><img src="/ckibana-docs/assets/images/troubleshooting01-978f5c98da7d4607eb4ac57d4e4fab15.png"></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="5high-cpu-usage-in-clickhouse">5、High CPU usage in ClickHouse<a aria-hidden="true" class="hash-link" href="#5high-cpu-usage-in-clickhouse" title="Direct link to heading">​</a></h2><p>Specific analysis can be done based on <code>system.query_log</code> in ClickHouse, with a focus on the two indicators <code>read_rows</code> and <code>read_bytes</code></p><p>The processing plan includes:</p><p>**1）Find the corresponding SQL query and add it to the CKibana blacklist.</p><p>**2）Adjust the corresponding chart</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/ckibana-docs/en/api-docs"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« <!-- -->api-docs</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/ckibana-docs/en/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Introduce<!-- --> »</div></a></div></nav></div></div><div class="col col--3"><div class="toc-wrapper" style="padding-inline-end:1rem;padding-inline-start:1rem"><h2>Contents</h2><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1cannot-open-kibana" class="table-of-contents__link toc-highlight">1、Cannot open Kibana.</a></li><li><a href="#2unable-to-create-an-index-pattern" class="table-of-contents__link toc-highlight">2、Unable to create an <code>index pattern</code></a><ul><li><a href="#the-troubleshooting-steps-are-as-follows" class="table-of-contents__link toc-highlight">The troubleshooting steps are as follows:</a></li></ul></li><li><a href="#3when-creating-an-index-pattern-the-time-field-cannot-be-selected" class="table-of-contents__link toc-highlight">3、When creating an index pattern, the time field cannot be selected.</a></li><li><a href="#4unable-to-retrieve-data" class="table-of-contents__link toc-highlight">4、Unable to retrieve data.</a></li><li><a href="#5high-cpu-usage-in-clickhouse" class="table-of-contents__link toc-highlight">5、High CPU usage in ClickHouse</a></li></ul></div></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/TongchengOpenSource/ckibana/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Github Issues<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://tongchengopensource.github.io/ckibana-docs" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>CKibana Documentation<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/TongchengOpenSource/ckibana" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 TongchengOpenSource</div></div></div></footer></div>
<script src="/ckibana-docs/assets/js/runtime~main.8425aa06.js"></script>
<script src="/ckibana-docs/assets/js/main.079d6d7f.js"></script>
</body>
</html>